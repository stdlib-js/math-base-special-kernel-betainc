// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-expm1@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-log1p@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-asin@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-beta@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-exp@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-pow@v0.0.7-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-max@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-min@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-max@v0.0.8-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-smallest-normal@v0.0.8-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-int32-max@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-half-pi@v0.0.8-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-pi@v0.0.8-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-gamma-delta-ratio@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-factorial@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-gammainc@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";import N from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-ln@esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-eps@v0.0.8-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-max-ln@esm/index.mjs";import z from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-min-ln@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-gamma-lanczos-sum-expg-scaled@esm/index.mjs";import q from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-gammaln@esm/index.mjs";import A from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-gamma@esm/index.mjs";import I from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-max-ln@v0.0.8-esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-gamma-lanczos-g@esm/index.mjs";import V from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-e@v0.0.8-esm/index.mjs";import B from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-maxabs@esm/index.mjs";import C from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-minabs@esm/index.mjs";import D from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-min-ln@v0.0.8-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-gamma-lanczos-g@v0.0.8-esm/index.mjs";import F from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-tools-continued-fraction@esm/index.mjs";import G from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-binomcoef@esm/index.mjs";import H from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-tools-sum-series@esm/index.mjs";var J=new Array(30);function K(s,t,e,i,r,m,f){var h,c,b,B,C,D,E,F,G,H,K,L,M,O,P,Q,R,S;if(L=function(s,t){var e,i,r,m,f,p,h;return h=(t-s-T+.5)/(r=s+T-.5),s<1?t<=z?d(s*N(t)-t-q(s)):l(t,s)*d(-t)/A(s):(x(h*h*s)<=100&&s>150?(e=s*(n(h)-h)+t*(.5-T)/r,e=d(e)):(m=s*N(t/r),j(m,f=s-t)<=z||o(m,f)>=I?(i=f/s,j(m,f)/2>z&&o(m,f)/2<I?e=(p=l(t/r,s/2)*d(f/2))*p:j(m,f)/4>z&&o(m,f)/4<I&&t>s?(e=(p=l(t/r,s/4)*d(f/4))*p,e*=e):e=i>z&&i<I?l(t*d(i)/r,s):d(m+f)):e=l(t/r,s)*d(f)),e*=a(r/V)/w(s))}(t,S=-(R=s+(D=t-1)/2)*(H=i<.35?n(-i):N(e))),L<=p)return r;for(f?(h=L/v(s,t),h/=l(R,t)):h=function(s,t){var e;return e=s*N(t),t>=1?e<y&&-t>z?l(t,s)*d(-t):s>=1?l(t/d(t/s),s):d(e-t):e>z?l(t,s)*d(-t):t/s<y?l(t/d(t/s),s):d(e-t)}(t,S)/l(R,t),h*=m,J[0]=1,M=u(S,t,!0,!0),B=r+h*(M/=L),b=1,E=H/2,E*=E,F=1,K=4*R*R,C=t,P=1;P<J.length;++P){for(b+=2,J[P]=0,G=t-P,c=3,O=1;O<P;++O)G=O*t-P,J[P]+=G*J[P-O]/g(c),c+=2;if(J[P]/=P,J[P]+=D/g(b),M=(C*(C+1)*M+(S+C+1)*F)/K,F*=E,C+=2,B+=Q=h*J[P]*M,Q>1){if(x(Q)<x(k*B))break}else if(x(Q/k)<x(B))break}return B}function L(s,t,e){var i,n;if(0===e)return 1;for(i=1,n=0;n<e;n++)i*=(s+n)/(t+n);return i}function M(s,t,i,r,m){var o,f,p,h,c,b,v,g,u,k,y,z,q,A;if(!m)return l(i,s)*l(r,t);if(h=s+E-.5,c=t+E-.5,b=(q=s+t)+E-.5,o=w(q),o/=w(s)*w(t),o*=a(c/V),o*=a(h/b),C(v=(i*t-r*h)/h,g=(r*s-i*c)/c)<.2)if(v*g>0||j(s,t)<1)x(v)<.1?o*=d(s*n(v)):o*=l(i*b/h,s),x(g)<.1?o*=d(t*n(g)):o*=l(r*b/c,t);else if(B(v,g)<.5)p=t/s,(f=s<t)&&p*g<.1||!f&&v/p>.1?(u=e(p*n(g)),u=s*n(u=v+u+u*v),o*=d(u)):(u=e(n(v)/p),u=t*n(u=g+u+u*g),o*=d(u));else if(x(v)<x(g))if((A=s*n(v)+t*N(r*b/c))<=D||A>=I){if((A+=N(o))>=I)return NaN;o=d(A)}else o*=d(A);else if((A=t*n(g)+s*N(i*b/h))<=D||A>=I){if((A+=N(o))>=I)return NaN;o=d(A)}else o*=d(A);else if(z=r*b/c,v=s*N(y=i*b/h),g=t*N(z),v>=I||v<=D||g>=I||g<=D)if(s<t)if(k=l(z,t/s),(u=s*(N(y)+N(k)))<I&&u>D)o*=l(k*y,s);else{if((g+=v+N(o))>=I)return NaN;o=d(g)}else if(k=l(y,s/t),(u=(N(k)+N(z))*t)<I&&u>D)o*=l(k*z,t);else{if((g+=v+N(o))>=I)return NaN;o=d(g)}else o*=l(y,s)*l(z,t);return o}var O={keep:!0,maxIter:1e3};function P(s,t,e,i,n,r){var m,a;return m=M(s,t,e,i,n),r&&(r[1]=m),0===m?m:(a=function(s,t,e,i){var n=0;return function(){var r,m,a;return m=(s+n-1)*(s+t+n-1)*n*(t-n)*e*e,r=s+2*n-1,a=n,a+=n*(t-n)*e/(s+2*n-1),a+=(s+n)*(s*i-t*e+1+n*(2-e))/(s+2*n+1),n+=1,[m/=r*r,a]}}(s,t,e,i),m/F(a,O))}function Q(s,t,e,i,n,r,m){var a,d,l,o;if(a=M(s,t,e,i,r),m&&(m[1]=a),0===(a/=s))return a;for(l=1,d=1,o=0;o<n-1;++o)l+=d*=(s+t+o)*e/(s+o+1);return a*=l}var R={maxTerms:100};function S(s,t,e,i,r,m,o){var j,f,h,c,b,v,g,u;return r?(f=s+E-.5,h=t+E-.5,c=(g=s+t)+E-.5,j=w(g)/(w(s)*w(t)),b=N(c/h)*(t-.5),v=N(e*c/f)*s,b>D&&b<I&&v>D&&v<I?(j*=s*t<10*h?d((t-.5)*n(s/h)):l(c/h,t-.5),j*=l(e*c/f,s),j*=a(f/V),m&&(m[1]=j*l(o,t))):(j=N(j)+b+v+(N(f)-1)/2,m&&(m[1]=d(j+t*N(o))),j=d(j))):j=l(e,s),j<p?i:(u=function(s,t,e,i){var n=1-t,r=1;return function(){var t=i/s;return s+=1,i*=n*e/r,r+=1,n+=1,t}}(s,t,e,j),R.initialValue=i,H(u,R))}var U=1/b;function W(s,v,g,u,x,N,k,y){var z,w,q,A,I,T,V,B,C,D,E;if(E=1-s,T=y,N[V=y+k]=-1,t(s)||s<0||s>1)return N[T]=NaN,N[V]=NaN,N;if(u){if(v<0||g<0)return N[T]=NaN,N[V]=NaN,N;if(0===v){if(0===g)return N[T]=NaN,N[V]=NaN,N;if(g>0)return N[T]=x?0:1,N}else if(0===g&&v>0)return N[T]=x?1:0,N}else if(v<=0||g<=0)return N[T]=NaN,N[V]=NaN,N;return 0===s?(N[V]=1===v?1:v<1?f/2:2*p,x?(N[T]=u?1:m(v,g),N):(N[T]=0,N)):1===s?(N[V]=1===g?1:g<1?f/2:2*p,N[T]=x?0:u?1:m(v,g),N):.5===v&&.5===g?(N[V]=U*a(E*s),D=r(a(x?E:s)),D/=c,u||(D*=b),N[T]=D,N):(1===v&&(I=g,g=v,v=I,I=E,E=s,s=I,x=!x),1===g?1===v?(N[T]=x?E:s,N[V]=1,N):(N[V]=v*l(s,v-1),D=E<.5?x?-e(v*n(-E)):d(v*n(-E)):x?-(l(s,v)-1):l(s,v),u||(D/=v),N[T]=D,N):(j(v,g)<=1?(s>.5&&(I=g,g=v,v=I,I=E,E=s,s=I,x=!x),o(v,g)<=1?v>=j(.2,g)||l(s,v)<=.9?x?(x=!1,w=-S(v,g,s,w=-(u?1:m(v,g)),u,N,E)):w=S(v,g,s,0,u,N,E):(I=g,g=v,v=I,I=E,E=s,s=I,x=!x,E>=.3?x?(x=!1,w=-S(v,g,s,w=-(u?1:m(v,g)),u,N,E)):w=S(v,g,s,0,u,N,E):(z=u?1:L(v+g,v,20),w=Q(v,g,s,E,20,u,N),x?(x=!1,w=-K(v+20,g,s,E,w-=u?1:m(v,g),z,u)):w=K(v+20,g,s,E,w,z,u))):g<=1||s<.1&&l(g*s,v)<=.7?x?(x=!1,w=-S(v,g,s,w=-(u?1:m(v,g)),u,N,E)):w=S(v,g,s,0,u,N,E):(I=g,g=v,v=I,I=E,E=s,s=I,x=!x,E>=.3?x?(x=!1,w=-S(v,g,s,w=-(u?1:m(v,g)),u,N,E)):w=S(v,g,s,0,u,N,E):v>=15?x?(x=!1,w=-K(v,g,s,E,w=-(u?1:m(v,g)),1,u)):w=K(v,g,s,E,0,1,u):(z=u?1:L(v+g,v,20),w=Q(v,g,s,E,20,u,N),x?(x=!1,w=-K(v+20,g,s,E,w-=u?1:m(v,g),z,u)):w=K(v+20,g,s,E,w,z,u)))):((v<g?v-(v+g)*s:(v+g)*E-g)<0&&(I=g,g=v,v=I,I=E,E=s,s=I,x=!x),g<40?i(v)===v&&i(g)===g&&v<h-100?(w=function(s,t,e,n){var r,m,a,d,o;if((m=l(e,s))>p)for(d=m,o=i(s-1);o>t;o--)m+=d*=(o+1)*n/((s-o)*e);else if((a=i(s*e))<=t+1&&(a=i(t+2)),m=l(e,a)*l(n,s-a),0==(m*=G(i(s),i(a))))for(o=a-1;o>t;o--)m+=l(e,o)*l(n,s-o),m*=G(i(s),i(o));else{for(d=m,r=m,o=a-1;o>t;o--)m+=d*=(o+1)*n/((s-o)*e);for(d=r,o=a+1;o<=s;o++)m+=d*=(s-o+1)*e/(o*n)}return m}(C=g+(B=v-1),B,s,E),u||(w*=m(v,g))):g*s<=.7?x?(x=!1,w=-S(v,g,s,w=-(u?1:m(v,g)),u,N,E)):w=S(v,g,s,0,u,N,E):v>15?((C=i(g))===g&&(C-=1),q=g-C,z=u?1:L(v+q,q,C),w=K(v,q,s,E,w=Q(q,v,E,s,C,u),1,u),w/=z):u?((q=g-(C=i(g)))<=0&&(C-=1,q+=1),w=Q(q,v,E,s,C,u),w+=Q(v,q,s,E,20,u),x&&(w-=1),w=K(v+20,q,s,E,w,1,u),x&&(w=-w,x=!1)):w=P(v,g,s,E,u,N):w=P(v,g,s,E,u,N)),N[V]<0&&(N[V]=M(v,g,s,E,!0)),A=E*s,0!==N[V]&&(f*A<N[V]?N[V]=f/2:N[V]/=A),N[T]=x?(u?1:m(v,g))-w:w,N))}function X(s,t,e,i,n){return W(s,t,e,i,n,[0,0],1,0)}s(X,"assign",W);export{W as assign,X as default};
//# sourceMappingURL=index.mjs.map
