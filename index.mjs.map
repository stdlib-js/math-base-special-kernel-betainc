{"version":3,"file":"index.mjs","sources":["../lib/full_igamma_prefix.js","../lib/regularized_gamma_prefix.js","../lib/beta_small_b_large_a_series.js","../lib/rising_factorial_ratio.js","../lib/ibeta_power_terms.js","../lib/ibeta_fraction2.js","../lib/binomial_ccdf.js","../lib/ibeta_a_step.js","../lib/ibeta_series.js","../lib/assign.js","../lib/main.js","../lib/index.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*\n*\n* ## Notice\n*\n* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_37_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.\n*\n* ```text\n* (C) Copyright John Maddock 2006.\n* (C) Copyright Paul A. Bristow 2007.\n*\n* Use, modification and distribution are subject to the\n* Boost Software License, Version 1.0. (See accompanying file\n* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)\n* ```\n*/\n\n'use strict';\n\n// MODULES //\n\nvar exp = require( '@stdlib/math-base-special-exp' );\nvar pow = require( '@stdlib/math-base-special-pow' );\nvar ln = require( '@stdlib/math-base-special-ln' );\nvar MAX_LN = require( '@stdlib/constants-float64-max-ln' );\nvar MIN_LN = require( '@stdlib/constants-float64-min-ln' );\n\n\n// MAIN //\n\n/**\n* Calculates the power term prefix `(z^a)(e^-z)` used in the non-normalized incomplete gammas.\n*\n* @private\n* @param {number} a - function parameter\n* @param {number} z - function parameter\n* @returns {number} power term prefix\n*/\nfunction fullIGammaPrefix( a, z ) {\n\tvar prefix;\n\tvar alz;\n\n\talz = a * ln( z );\n\tif ( z >= 1.0 ) {\n\t\tif ( ( alz < MAX_LN ) && ( -z > MIN_LN ) ) {\n\t\t\tprefix = pow( z, a ) * exp( -z );\n\t\t}\n\t\telse if ( a >= 1.0 ) {\n\t\t\tprefix = pow( z / exp(z/a), a );\n\t\t}\n\t\telse {\n\t\t\tprefix = exp( alz - z );\n\t\t}\n\t}\n\telse if ( alz > MIN_LN ) {\n\t\tprefix = pow( z, a ) * exp( -z );\n\t}\n\telse if ( z/a < MAX_LN ) {\n\t\tprefix = pow( z / exp(z/a), a );\n\t}\n\telse {\n\t\tprefix = exp( alz - z );\n\t}\n\treturn prefix;\n}\n\n\n// EXPORTS //\n\nmodule.exports = fullIGammaPrefix;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*\n*\n* ## Notice\n*\n* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_64_0/boost/math/special_functions/gamma.hpp}. The implementation has been modified for JavaScript.\n*\n* ```text\n* Copyright John Maddock 2006-7, 2013-14.\n* Copyright Paul A. Bristow 2007, 2013-14.\n* Copyright Nikhar Agrawal 2013-14.\n* Copyright Christopher Kormanyos 2013-14.\n*\n* Use, modification and distribution are subject to the\n* Boost Software License, Version 1.0. (See accompanying file\n* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)\n* ```\n*/\n\n'use strict';\n\n// MODULES //\n\nvar lanczosSumExpGScaled = require( '@stdlib/math-base-special-gamma-lanczos-sum-expg-scaled' );\nvar gammaln = require( '@stdlib/math-base-special-gammaln' );\nvar gamma = require( '@stdlib/math-base-special-gamma' );\nvar log1p = require( '@stdlib/math-base-special-log1p' );\nvar sqrt = require( '@stdlib/math-base-special-sqrt' );\nvar abs = require( '@stdlib/math-base-special-abs' );\nvar exp = require( '@stdlib/math-base-special-exp' );\nvar pow = require( '@stdlib/math-base-special-pow' );\nvar max = require( '@stdlib/math-base-special-max' );\nvar min = require( '@stdlib/math-base-special-min' );\nvar ln = require( '@stdlib/math-base-special-ln' );\nvar MAX_LN = require( '@stdlib/constants-float64-max-ln' );\nvar MIN_LN = require( '@stdlib/constants-float64-min-ln' );\nvar G = require( '@stdlib/constants-float64-gamma-lanczos-g' );\nvar E = require( '@stdlib/constants-float64-e' );\n\n\n// MAIN //\n\n/**\n* Computes `(z^a)*(e^-z) / gamma(a)`.\n*\n* @private\n* @param {number} a - input value\n* @param {number} z - input value\n* @returns {number} function value\n*/\nfunction regularizedGammaPrefix( a, z ) {\n\tvar prefix;\n\tvar amza;\n\tvar agh;\n\tvar alz;\n\tvar amz;\n\tvar sq;\n\tvar d;\n\n\tagh = a + G - 0.5;\n\td = ( (z - a) - G + 0.5 ) / agh;\n\tif ( a < 1.0 ) {\n\t\t// Treat a < 1 as a special case because our Lanczos approximations are optimized against the factorials with a > 1, and for high precision types very small values of `a` can give rather erroneous results for gamma:\n\t\tif ( z <= MIN_LN ) {\n\t\t\t// Use logs, so should be free of cancellation errors:\n\t\t\treturn exp( ( a * ln(z) ) - z - gammaln( a ) );\n\t\t}\n\t\t// No danger of overflow as gamma(a) < 1/a for small a, so direct calculation:\n\t\treturn pow( z, a ) * exp( -z ) / gamma( a );\n\t}\n\tif ( abs(d*d*a) <= 100.0 && a > 150.0 ) {\n\t\t// Special case for large a and a ~ z:\n\t\tprefix = ( a * ( log1p( d ) - d ) ) + ( z * ( 0.5-G ) / agh );\n\t\tprefix = exp( prefix );\n\t}\n\telse {\n\t\t// General case. Direct computation is most accurate, but use various fallbacks for different parts of the problem domain:\n\t\talz = a * ln(z / agh);\n\t\tamz = a - z;\n\t\tif (\n\t\t\tmin(alz, amz) <= MIN_LN ||\n\t\t\tmax(alz, amz) >= MAX_LN\n\t\t) {\n\t\t\tamza = amz / a;\n\t\t\tif (\n\t\t\t\tmin(alz, amz)/2.0 > MIN_LN &&\n\t\t\t\tmax(alz, amz)/2.0 < MAX_LN\n\t\t\t) {\n\t\t\t\t// Compute square root of the result and then square it:\n\t\t\t\tsq = pow( z/agh, a/2.0 ) * exp( amz/2.0 );\n\t\t\t\tprefix = sq * sq;\n\t\t\t}\n\t\t\telse if (\n\t\t\t\tmin(alz, amz)/4.0 > MIN_LN &&\n\t\t\t\tmax(alz, amz)/4.0 < MAX_LN &&\n\t\t\t\tz > a\n\t\t\t) {\n\t\t\t\t// Compute the 4th root of the result then square it twice:\n\t\t\t\tsq = pow( z/agh, a/4.0 ) * exp( amz/4.0 );\n\t\t\t\tprefix = sq * sq;\n\t\t\t\tprefix *= prefix;\n\t\t\t}\n\t\t\telse if (\n\t\t\t\tamza > MIN_LN &&\n\t\t\t\tamza < MAX_LN\n\t\t\t) {\n\t\t\t\tprefix = pow( (z * exp(amza)) / agh, a );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tprefix = exp( alz + amz );\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tprefix = pow( z/agh, a ) * exp( amz );\n\t\t}\n\t}\n\tprefix *= sqrt( agh/E ) / lanczosSumExpGScaled( a );\n\treturn prefix;\n}\n\n\n// EXPORTS //\n\nmodule.exports = regularizedGammaPrefix;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*\n*\n* ## Notice\n*\n* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_61_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.\n*\n* ```text\n* (C) Copyright John Maddock 2006.\n*\n* Use, modification and distribution are subject to the\n* Boost Software License, Version 1.0. (See accompanying file\n* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)\n* ```\n*/\n\n'use strict';\n\n// MODULES //\n\nvar gammaDeltaRatio = require( '@stdlib/math-base-special-gamma-delta-ratio' );\nvar factorial = require( '@stdlib/math-base-special-factorial' );\nvar gammainc = require( '@stdlib/math-base-special-gammainc' );\nvar log1p = require( '@stdlib/math-base-special-log1p' );\nvar abs = require( '@stdlib/math-base-special-abs' );\nvar pow = require( '@stdlib/math-base-special-pow' );\nvar ln = require( '@stdlib/math-base-special-ln' );\nvar MIN_VALUE = require( '@stdlib/constants-float64-smallest-normal' );\nvar EPSILON = require( '@stdlib/constants-float64-eps' );\nvar fullIGammaPrefix = require( './full_igamma_prefix.js' );\nvar regularizedGammaPrefix = require( './regularized_gamma_prefix.js' );\n\n\n// VARIABLES //\n\nvar p = new Array( 30 );\n\n\n// MAIN //\n\n/**\n* This is DiDonato and Morris's BGRAT routine, see Eq's 9 through 9.6.\n*\n* @private\n* @param {NonNegativeNumber} a - function parameter\n* @param {NonNegativeNumber} b - function parameter\n* @param {Probability} x - function parameter\n* @param {Probability} y - probability equal to `1-x`\n* @param {NonNegativeInteger} s0 - initial value\n* @param {number} mult - initial value\n* @param {boolean} normalized - boolean indicating whether to evaluate the regularized or non-regularized incomplete beta function\n* @returns {number} function value\n*/\nfunction betaSmallBLargeASeries( a, b, x, y, s0, mult, normalized ) {\n\tvar prefix;\n\tvar tmp1;\n\tvar tnp1;\n\tvar sum;\n\tvar b2n;\n\tvar bm1;\n\tvar lx2;\n\tvar lxp;\n\tvar mbn;\n\tvar lx;\n\tvar t4;\n\tvar h;\n\tvar j;\n\tvar m;\n\tvar n;\n\tvar r;\n\tvar t;\n\tvar u;\n\n\t// Some values we'll need later, these are Eq 9.1:\n\tbm1 = b - 1.0;\n\tt = a + ( bm1 / 2.0 );\n\tif ( y < 0.35 ) {\n\t\tlx = log1p( -y );\n\t} else {\n\t\tlx = ln( x );\n\t}\n\tu = -t * lx;\n\n\t// And from from 9.2:\n\th = regularizedGammaPrefix( b, u );\n\tif ( h <= MIN_VALUE ) {\n\t\treturn s0;\n\t}\n\tif ( normalized ) {\n\t\tprefix = h / gammaDeltaRatio( a, b );\n\t\tprefix /= pow( t, b );\n\t} else {\n\t\tprefix = fullIGammaPrefix( b, u ) / pow( t, b );\n\t}\n\tprefix *= mult;\n\n\t// We need the quantity Pn. Unfortunately, this is computed recursively and requires a full history of all the previous values. No choice but to declare a big table and hope it's big enough...\n\tp[ 0 ] = 1;  // see 9.3.\n\n\t// Now an initial value for J, see 9.6: gammainc( u, b, regularized, upper )\n\tj = gammainc( u, b, true, true );\n\tj /= h;\n\n\t// Now we can start to pull things together and evaluate the sum in Eq 9:\n\tsum = s0 + ( prefix * j ); // Value at N = 0\n\n\t// Some variables we'll need...\n\ttnp1 = 1.0; // 2*N+1\n\tlx2 = lx / 2.0;\n\tlx2 *= lx2;\n\tlxp = 1.0;\n\tt4 = 4.0 * t * t;\n\tb2n = b;\n\tfor ( n = 1; n < p.length; ++n ) {\n\t\t// Begin by evaluating the next Pn from Eq 9.4:\n\t\ttnp1 += 2.0;\n\t\tp[ n ] = 0.0;\n\t\tmbn = b - n;\n\t\ttmp1 = 3;\n\t\tfor ( m = 1; m < n; ++m ) {\n\t\t\tmbn = ( m * b ) - n;\n\t\t\tp[ n ] += mbn * p[ n-m ] / factorial( tmp1 );\n\t\t\ttmp1 += 2;\n\t\t}\n\t\tp[ n ] /= n;\n\t\tp[ n ] += bm1 / factorial( tnp1 );\n\n\t\t// Now we want Jn from Jn-1 using Eq 9.6:\n\t\tj = ( ( b2n * ( b2n+1.0 ) * j ) + ( ( u+b2n+1.0 ) * lxp ) ) / t4;\n\t\tlxp *= lx2;\n\t\tb2n += 2.0;\n\n\t\t// Pull it together with Eq 9:\n\t\tr = prefix * p[ n ] * j;\n\t\tsum += r;\n\t\tif ( r > 1.0 ) {\n\t\t\tif ( abs( r ) < abs( EPSILON * sum ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} else if ( abs( r / EPSILON ) < abs( sum ) ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn sum;\n}\n\n\n// EXPORTS //\n\nmodule.exports = betaSmallBLargeASeries;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*\n*\n* ## Notice\n*\n* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_37_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.\n*\n* ```text\n* (C) Copyright John Maddock 2006.\n*\n* Use, modification and distribution are subject to the\n* Boost Software License, Version 1.0. (See accompanying file\n* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)\n* ```\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Computes the delta in `beta(a,b,x) = prefix + delta * beta(a+k,b,x)`.\n*\n* ## Notes\n*\n* Specifically, the function calculates\n*\n* ```tex\n* \\frac{ (a)(a+1)(a+2)...(a+k-1) }{ (b)(b+1)(b+2)...(b+k-1) }\n* ```\n*\n* The function should only called with small `k`; for large `k`, it is grossly inefficient.\n*\n* @private\n* @param {number} a - input value\n* @param {number} b - input value\n* @param {NonNegativeInteger} k - input value\n* @returns {number} ratio value\n*/\nfunction risingFactorialRatio( a, b, k ) {\n\tvar result;\n\tvar i;\n\tif ( k === 0 ) {\n\t\treturn 1.0;\n\t}\n\tresult = 1.0;\n\tfor ( i = 0; i < k; i++ ) {\n\t\tresult *= ( a + i ) / ( b + i );\n\t}\n\treturn result;\n}\n\n\n// EXPORTS //\n\nmodule.exports = risingFactorialRatio;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*\n*\n* ## Notice\n*\n* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_62_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.\n*\n* ```text\n* (C) Copyright John Maddock 2006.\n*\n* Use, modification and distribution are subject to the\n* Boost Software License, Version 1.0. (See accompanying file\n* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)\n* ```\n*/\n\n'use strict';\n\n// MODULES //\n\nvar lanczosSumExpGScaled = require( '@stdlib/math-base-special-gamma-lanczos-sum-expg-scaled' );\nvar maxabs = require( '@stdlib/math-base-special-maxabs' );\nvar minabs = require( '@stdlib/math-base-special-minabs' );\nvar expm1 = require( '@stdlib/math-base-special-expm1' );\nvar log1p = require( '@stdlib/math-base-special-log1p' );\nvar sqrt = require( '@stdlib/math-base-special-sqrt' );\nvar abs = require( '@stdlib/math-base-special-abs' );\nvar exp = require( '@stdlib/math-base-special-exp' );\nvar pow = require( '@stdlib/math-base-special-pow' );\nvar min = require( '@stdlib/math-base-special-min' );\nvar ln = require( '@stdlib/math-base-special-ln' );\nvar MAX_LN = require( '@stdlib/constants-float64-max-ln' );\nvar MIN_LN = require( '@stdlib/constants-float64-min-ln' );\nvar G = require( '@stdlib/constants-float64-gamma-lanczos-g' );\nvar E = require( '@stdlib/constants-float64-e' );\n\n\n// MAIN //\n\n/**\n* Computes the leading power terms in the incomplete beta function.\n*\n* When normalized,\n*\n* ```tex\n* \\frac{ x^a y^b }{ \\operatorname{Beta}(a,b) }\n* ```\n*\n* and otherwise\n*\n* ```tex\n* x^a y^b\n* ```\n*\n* ## Notes\n*\n* -   Almost all of the error in the incomplete beta comes from this function, particularly when \\\\( a \\\\) and \\\\( b \\\\) are large. Computing large powers are _hard_ though, and using logarithms just leads to horrendous cancellation errors.\n*\n* -   For \\\\( l1 * l2 > 0 \\\\) or \\\\( \\operatorname{min}( a, b ) < 1 \\\\), the two power terms both go in the same direction (toward zero or toward infinity). In this case if either term overflows or underflows, then the product of the two must do so also. Alternatively, if one exponent is less than one, then we can't productively use it to eliminate overflow or underflow from the other term.  Problems with spurious overflow/underflow can't be ruled out. In this case, but it is _very_ unlikely since one of the power terms will evaluate to a number close to 1.\n*\n* -   If \\\\( \\max( \\abs(l1), \\abs(l2) ) < 0.5 \\\\), both exponents are near one and both the exponents are greater than one, and, further, these two power terms tend in opposite directions (one toward zero, the other toward infinity), so we have to combine the terms to avoid any risk of overflow or underflow. We do this by moving one power term inside the other, we have:\n*\n*     ```tex\n*     (1 + l_1)^a \\cdot (1 + l_2)^b \\\\\n*     = ((1 + l_1) \\cdot (1 + l_2)^(b/a))^a \\\\\n*     = (1 + l_1 + l_3 + l_1*l_3)^a\n*     ```\n*\n*     and\n*\n*     ```tex\n*     l_3 = (1 + l_2)^(b/a) - 1 \\\\\n*     = \\exp((b/a) * \\ln(1 + l_2)) - 1\n*     ```\n*\n*     The tricky bit is deciding which term to move inside. By preference, we move the larger term inside, so that the size of the largest exponent is reduced.  However, that can only be done as long as l3 (see above) is also small.\n*\n* @private\n* @param {NonNegativeNumber} a - function parameter\n* @param {NonNegativeNumber} b - function parameter\n* @param {Probability} x - function parameter\n* @param {Probability} y - probability equal to `1-x`\n* @param {boolean} normalized - boolean indicating whether to evaluate the power terms of the regularized or non-regularized incomplete beta function\n* @returns {number} power terms\n*/\nfunction ibetaPowerTerms( a, b, x, y, normalized ) {\n\tvar result;\n\tvar smallA;\n\tvar ratio;\n\tvar agh;\n\tvar bgh;\n\tvar cgh;\n\tvar l1;\n\tvar l2;\n\tvar l3;\n\tvar p1;\n\tvar b1;\n\tvar b2;\n\tvar c;\n\tvar l;\n\n\tif ( !normalized ) {\n\t\t// Can we do better here?\n\t\treturn pow( x, a ) * pow( y, b );\n\t}\n\tc = a + b;\n\n\t// Combine power terms with Lanczos approximation:\n\tagh = a + G - 0.5;\n\tbgh = b + G - 0.5;\n\tcgh = c + G - 0.5;\n\tresult = lanczosSumExpGScaled( c );\n\tresult /= lanczosSumExpGScaled( a ) * lanczosSumExpGScaled( b );\n\n\t// Combine with the leftover terms from the Lanczos approximation:\n\tresult *= sqrt( bgh / E );\n\tresult *= sqrt( agh / cgh );\n\n\t// `l1` and `l2` are the base of the exponents minus one:\n\tl1 = ( ( x * b ) - ( y * agh ) ) / agh;\n\tl2 = ( ( y * a ) - ( x * bgh ) ) / bgh;\n\tif ( minabs( l1, l2 ) < 0.2 ) {\n\t\t// When the base of the exponent is very near 1 we get really gross errors unless extra care is taken:\n\t\tif ( l1 * l2 > 0 || min( a, b ) < 1 ) {\n\t\t\tif ( abs(l1) < 0.1 ) {\n\t\t\t\tresult *= exp( a * log1p( l1 ) );\n\t\t\t} else {\n\t\t\t\tresult *= pow( ( x*cgh ) / agh, a );\n\t\t\t}\n\t\t\tif ( abs(l2) < 0.1 ) {\n\t\t\t\tresult *= exp( b * log1p( l2 ) );\n\t\t\t} else {\n\t\t\t\tresult *= pow((y * cgh) / bgh, b);\n\t\t\t}\n\t\t}\n\t\telse if ( maxabs( l1, l2 ) < 0.5 ) {\n\t\t\tsmallA = a < b;\n\t\t\tratio = b / a;\n\t\t\tif (\n\t\t\t\t(smallA && (ratio * l2 < 0.1)) ||\n\t\t\t\t(!smallA && (l1 / ratio > 0.1))\n\t\t\t) {\n\t\t\t\tl3 = expm1( ratio * log1p( l2 ) );\n\t\t\t\tl3 = l1 + l3 + ( l3 * l1 );\n\t\t\t\tl3 = a * log1p( l3 );\n\t\t\t\tresult *= exp( l3 );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tl3 = expm1( log1p( l1 ) / ratio );\n\t\t\t\tl3 = l2 + l3 + ( l3 * l2 );\n\t\t\t\tl3 = b * log1p( l3 );\n\t\t\t\tresult *= exp( l3 );\n\t\t\t}\n\t\t}\n\t\telse if ( abs(l1) < abs(l2) ) {\n\t\t\t// First base near 1 only:\n\t\t\tl = ( a * log1p( l1 ) ) + ( b * ln( ( y*cgh ) / bgh ) );\n\t\t\tif ( l <= MIN_LN || l >= MAX_LN ) {\n\t\t\t\tl += ln(result);\n\t\t\t\tif ( l >= MAX_LN ) {\n\t\t\t\t\treturn NaN;\n\t\t\t\t}\n\t\t\t\tresult = exp( l );\n\t\t\t} else {\n\t\t\t\tresult *= exp( l );\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// Second base near 1 only:\n\t\t\tl = ( b * log1p( l2 ) ) + ( a * ln( (x*cgh) / agh ) );\n\t\t\tif ( l <= MIN_LN || l >= MAX_LN ) {\n\t\t\t\tl += ln(result);\n\t\t\t\tif ( l >= MAX_LN ) {\n\t\t\t\t\treturn NaN;\n\t\t\t\t}\n\t\t\t\tresult = exp( l );\n\t\t\t} else {\n\t\t\t\tresult *= exp( l );\n\t\t\t}\n\t\t}\n\t}\n\telse {\n\t\t// General case:\n\t\tb1 = (x * cgh) / agh;\n\t\tb2 = (y * cgh) / bgh;\n\t\tl1 = a * ln(b1);\n\t\tl2 = b * ln(b2);\n\t\tif (\n\t\t\tl1 >= MAX_LN ||\n\t\t\tl1 <= MIN_LN ||\n\t\t\tl2 >= MAX_LN ||\n\t\t\tl2 <= MIN_LN\n\t\t) {\n\t\t\t// Oops, under/overflow, sidestep if we can:\n\t\t\tif ( a < b ) {\n\t\t\t\tp1 = pow( b2, b / a );\n\t\t\t\tl3 = a * ( ln(b1) + ln(p1) );\n\t\t\t\tif ( l3 < MAX_LN && l3 > MIN_LN ) {\n\t\t\t\t\tresult *= pow( p1 * b1, a );\n\t\t\t\t} else {\n\t\t\t\t\tl2 += l1 + ln(result);\n\t\t\t\t\tif ( l2 >= MAX_LN ) {\n\t\t\t\t\t\treturn NaN;\n\t\t\t\t\t}\n\t\t\t\t\tresult = exp( l2 );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tp1 = pow( b1, a / b );\n\t\t\t\tl3 = ( ln(p1) + ln(b2) ) * b;\n\t\t\t\tif ( l3 < MAX_LN && l3 > MIN_LN ) {\n\t\t\t\t\tresult *= pow( p1 * b2, b );\n\t\t\t\t} else {\n\t\t\t\t\tl2 += l1 + ln( result );\n\t\t\t\t\tif (l2 >= MAX_LN) {\n\t\t\t\t\t\treturn NaN;\n\t\t\t\t\t}\n\t\t\t\t\tresult = exp( l2 );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// Finally the normal case:\n\t\t\tresult *= pow( b1, a ) * pow( b2, b );\n\t\t}\n\t}\n\treturn result;\n}\n\n\n// EXPORTS //\n\nmodule.exports = ibetaPowerTerms;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*\n*\n* ## Notice\n*\n* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_61_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.\n*\n* ```text\n* (C) Copyright John Maddock 2006.\n*\n* Use, modification and distribution are subject to the\n* Boost Software License, Version 1.0. (See accompanying file\n* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)\n* ```\n*/\n\n'use strict';\n\n// MODULES //\n\nvar continuedFraction = require( '@stdlib/math-base-tools-continued-fraction' );\nvar ibetaPowerTerms = require( './ibeta_power_terms.js' );\n\n\n// VARIABLES //\n\nvar OPTS = {\n\t'keep': true,\n\t'maxIter': 1000\n};\n\n\n// FUNCTIONS //\n\n/**\n* Continued fraction for the incomplete beta.\n*\n* @private\n* @param {NonNegativeNumber} a - function parameter\n* @param {NonNegativeNumber} b - function parameter\n* @param {Probability} x - function parameter\n* @param {Probability} y - probability equal to `1-x`\n* @returns {Function} series function\n*/\nfunction ibetaFraction2t( a, b, x, y ) {\n\tvar m = 0;\n\treturn next;\n\n\t/**\n\t* Calculate the numerator and denominator of the next term of the series.\n\t*\n\t* @private\n\t* @returns {Array} series expansion terms\n\t*/\n\tfunction next() {\n\t\tvar denom;\n\t\tvar aN;\n\t\tvar bN;\n\n\t\taN = (a + m - 1) * (a + b + m - 1) * m * (b - m) * x * x;\n\t\tdenom = a + ( 2.0*m ) - 1.0;\n\t\taN /= denom * denom;\n\t\tbN = m;\n\t\tbN += (m * (b - m) * x) / ( a + ( 2.0*m ) - 1.0 );\n\t\tbN += ( (a+m) * ( (a*y) - (b*x) + 1.0 + ( m*(2.0-x) ) ) ) / ( a + (2.0*m) + 1.0 ); // eslint-disable-line max-len\n\t\tm += 1;\n\t\treturn [ aN, bN ];\n\t}\n}\n\n\n// MAIN //\n\n/**\n* Evaluates the incomplete beta via the continued fraction representation.\n*\n* @private\n* @param {NonNegativeNumber} a - function parameter\n* @param {NonNegativeNumber} b - function parameter\n* @param {Probability} x - function parameter\n* @param {Probability} y - probability equal to `1-x`\n* @param {boolean} normalized - boolean indicating whether to evaluate the power terms of the regularized or non-regularized incomplete beta function\n* @param {(Array|TypedArray|Object)} out - output array holding the derivative as the second element\n* @returns {number} incomplete beta value\n*/\nfunction ibetaFraction2( a, b, x, y, normalized, out ) {\n\tvar result;\n\tvar fract;\n\tvar f;\n\n\tresult = ibetaPowerTerms( a, b, x, y, normalized );\n\tif ( out ) {\n\t\tout[ 1 ] = result;\n\t}\n\tif ( result === 0.0 ) {\n\t\treturn result;\n\t}\n\tf = ibetaFraction2t( a, b, x, y );\n\tfract = continuedFraction( f, OPTS );\n\treturn result / fract;\n}\n\n\n// EXPORTS //\n\nmodule.exports = ibetaFraction2;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*\n*\n* ## Notice\n*\n* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_61_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.\n*\n* ```text\n* (C) Copyright John Maddock 2006.\n*\n* Use, modification and distribution are subject to the\n* Boost Software License, Version 1.0. (See accompanying file\n* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)\n* ```\n*/\n\n'use strict';\n\n// MODULES //\n\nvar binomcoef = require( '@stdlib/math-base-special-binomcoef' );\nvar floor = require( '@stdlib/math-base-special-floor' );\nvar pow = require( '@stdlib/math-base-special-pow' );\nvar MIN_VALUE = require( '@stdlib/constants-float64-smallest-normal' );\n\n\n// MAIN //\n\n/**\n* For integer arguments we can relate the incomplete beta to the complement of the binomial distribution cdf and use this finite sum.\n*\n* @private\n* @param {NonNegativeInteger} n - number of trials\n* @param {NonNegativeInteger} k - function input\n* @param {Probability} x - function input\n* @param {Probability} y - probability equal to `1-x`\n* @returns {number} sum\n*/\nfunction binomialCCDF( n, k, x, y ) {\n\tvar startTerm;\n\tvar result;\n\tvar start;\n\tvar term;\n\tvar i;\n\n\tresult = pow( x, n );\n\tif ( result > MIN_VALUE ) {\n\t\tterm = result;\n\t\tfor ( i = floor( n - 1 ); i > k; i-- ) {\n\t\t\tterm *= ((i + 1) * y) / ((n - i) * x);\n\t\t\tresult += term;\n\t\t}\n\t} else {\n\t\t// First term underflows so we need to start at the mode of the distribution and work outwards:\n\t\tstart = floor( n * x );\n\t\tif ( start <= k + 1 ) {\n\t\t\tstart = floor( k + 2 );\n\t\t}\n\t\tresult = pow( x, start ) * pow( y, n - start );\n\t\tresult *= binomcoef( floor(n), floor(start) );\n\t\tif ( result === 0.0 ) {\n\t\t\t// OK, starting slightly above the mode didn't work, we'll have to sum the terms the old fashioned way:\n\t\t\tfor ( i = start - 1; i > k; i-- ) {\n\t\t\t\tresult += pow( x, i ) * pow( y, n - i );\n\t\t\t\tresult *= binomcoef( floor(n), floor(i) );\n\t\t\t}\n\t\t} else {\n\t\t\tterm = result;\n\t\t\tstartTerm = result;\n\t\t\tfor ( i = start - 1; i > k; i-- ) {\n\t\t\t\tterm *= ((i + 1) * y) / ((n - i) * x);\n\t\t\t\tresult += term;\n\t\t\t}\n\t\t\tterm = startTerm;\n\t\t\tfor ( i = start + 1; i <= n; i++ ) {\n\t\t\t\tterm *= (n - i + 1) * x / (i * y);\n\t\t\t\tresult += term;\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n}\n\n\n// EXPORTS //\n\nmodule.exports = binomialCCDF;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*\n*\n* ## Notice\n*\n* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_61_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.\n*\n* ```text\n* (C) Copyright John Maddock 2006.\n*\n* Use, modification and distribution are subject to the\n* Boost Software License, Version 1.0. (See accompanying file\n* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)\n* ```\n*/\n\n'use strict';\n\n// MODULES //\n\nvar ibetaPowerTerms = require( './ibeta_power_terms.js' );\n\n\n// MAIN //\n\n/**\n* Computes the difference between `ibeta(a,b,x)` and `ibeta(a+k,b,x)`.\n*\n* @private\n* @param {NonNegativeNumber} a - function parameter\n* @param {NonNegativeNumber} b - function parameter\n* @param {Probability} x - function parameter\n* @param {Probability} y - probability equal to `1-x`\n* @param {NonNegativeInteger} k - function input\n* @param {boolean} normalized - boolean indicating whether to evaluate the power terms of the regularized or non-regularized incomplete beta function\n* @param {(Array|TypedArray|Object)} out - output array holding the derivative as the second element\n* @returns {number} difference between ibeta(a,b,x) and ibeta(a+k,b,x)\n*/\nfunction ibetaAStep( a, b, x, y, k, normalized, out ) {\n\tvar prefix;\n\tvar term;\n\tvar sum;\n\tvar i;\n\n\tprefix = ibetaPowerTerms( a, b, x, y, normalized );\n\tif ( out ) {\n\t\tout[ 1 ] = prefix;\n\t}\n\tprefix /= a;\n\tif ( prefix === 0.0 ) {\n\t\treturn prefix;\n\t}\n\tsum = 1.0;\n\tterm = 1.0;\n\n\t// Series summation from 0 to k-1:\n\tfor ( i = 0; i < k-1; ++i ) {\n\t\tterm *= (a+b+i) * x / (a+i+1.0);\n\t\tsum += term;\n\t}\n\tprefix *= sum;\n\treturn prefix;\n}\n\n\n// EXPORTS //\n\nmodule.exports = ibetaAStep;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*\n*\n* ## Notice\n*\n* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_64_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.\n*\n* ```text\n* (C) Copyright John Maddock 2006.\n*\n* Use, modification and distribution are subject to the\n* Boost Software License, Version 1.0. (See accompanying file\n* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)\n* ```\n*/\n\n'use strict';\n\n// MODULES //\n\nvar lanczosSumExpGScaled = require( '@stdlib/math-base-special-gamma-lanczos-sum-expg-scaled' );\nvar sumSeries = require( '@stdlib/math-base-tools-sum-series' );\nvar log1p = require( '@stdlib/math-base-special-log1p' );\nvar sqrt = require( '@stdlib/math-base-special-sqrt' );\nvar exp = require( '@stdlib/math-base-special-exp' );\nvar pow = require( '@stdlib/math-base-special-pow' );\nvar ln = require( '@stdlib/math-base-special-ln' );\nvar MIN_VALUE = require( '@stdlib/constants-float64-smallest-normal' );\nvar MAX_LN = require( '@stdlib/constants-float64-max-ln' );\nvar MIN_LN = require( '@stdlib/constants-float64-min-ln' );\nvar G = require( '@stdlib/constants-float64-gamma-lanczos-g' );\nvar E = require( '@stdlib/constants-float64-e' );\n\n\n// VARIABLES //\n\nvar opts = {\n\t'maxTerms': 100\n};\n\n\n// FUNCTIONS //\n\n/**\n* Series approximation to the incomplete beta.\n*\n* @private\n* @param {NonNegativeNumber} a - function parameter\n* @param {NonNegativeNumber} b - function parameter\n* @param {Probability} x - function parameter\n* @param {number} result - initial result value\n* @returns {Function} series function\n*/\nfunction ibetaSeriesT( a, b, x, result ) {\n\tvar poch = 1.0 - b;\n\tvar n = 1;\n\treturn next;\n\n\t/**\n\t* Calculate the next term of the series.\n\t*\n\t* @private\n\t* @returns {number} series expansion term\n\t*/\n\tfunction next() {\n\t\tvar r = result / a;\n\t\ta += 1.0;\n\t\tresult *= poch * x / n;\n\t\tn += 1;\n\t\tpoch += 1.0;\n\t\treturn r;\n\t}\n}\n\n\n// MAIN //\n\n/**\n* Incomplete beta series.\n*\n* @private\n* @param {NonNegativeNumber} a - function parameter\n* @param {NonNegativeNumber} b - function parameter\n* @param {Probability} x - function parameter\n* @param {NonNegativeInteger} s0 - initial value\n* @param {boolean} normalized - boolean indicating whether to evaluate the power terms of the regularized or non-regularized incomplete beta function\n* @param {(Array|TypedArray|Object)} out - output array holding the derivative as the second element\n* @param {Probability} y - probability equal to `1-x`\n* @returns {number} function value\n*/\nfunction ibetaSeries( a, b, x, s0, normalized, out, y ) {\n\tvar result;\n\tvar agh;\n\tvar bgh;\n\tvar cgh;\n\tvar l1;\n\tvar l2;\n\tvar c;\n\tvar s;\n\n\tif ( normalized ) {\n\t\tc = a + b;\n\n\t\t// Incomplete beta power term, combined with the Lanczos approximation:\n\t\tagh = a + G - 0.5;\n\t\tbgh = b + G - 0.5;\n\t\tcgh = c + G - 0.5;\n\t\tresult = lanczosSumExpGScaled( c ) / ( lanczosSumExpGScaled( a ) * lanczosSumExpGScaled( b ) ); // eslint-disable-line max-len\n\n\t\tl1 = ln( cgh / bgh ) * ( b - 0.5 );\n\t\tl2 = ln( x * cgh / agh ) * a;\n\n\t\t// Check for over/underflow in the power terms:\n\t\tif (\n\t\t\tl1 > MIN_LN &&\n\t\t\tl1 < MAX_LN &&\n\t\t\tl2 > MIN_LN &&\n\t\t\tl2 < MAX_LN\n\t\t) {\n\t\t\tif ( a * b < bgh * 10.0 ) {\n\t\t\t\tresult *= exp( ( b-0.5 ) * log1p( a / bgh ) );\n\t\t\t} else {\n\t\t\t\tresult *= pow( cgh / bgh, b - 0.5 );\n\t\t\t}\n\t\t\tresult *= pow( x * cgh / agh, a );\n\t\t\tresult *= sqrt( agh / E );\n\n\t\t\tif ( out ) {\n\t\t\t\tout[ 1 ] = result * pow( y, b );\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// We need logs, and this *will* cancel:\n\t\t\tresult = ln( result ) + l1 + l2 + ( ( ln( agh ) - 1.0 ) / 2.0 );\n\t\t\tif ( out ) {\n\t\t\t\tout[ 1 ] = exp( result + ( b * ln( y ) ) );\n\t\t\t}\n\t\t\tresult = exp( result );\n\t\t}\n\t}\n\telse {\n\t\t// Non-normalized, just compute the power:\n\t\tresult = pow( x, a );\n\t}\n\tif ( result < MIN_VALUE ) {\n\t\treturn s0; // Safeguard: series can't cope with denorms.\n\t}\n\ts = ibetaSeriesT( a, b, x, result );\n\topts.initialValue = s0;\n\treturn sumSeries( s, opts );\n}\n\n\n// EXPORTS //\n\nmodule.exports = ibetaSeries;\n","/* eslint-disable max-statements, max-lines */\n\n/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*\n*\n* ## Notice\n*\n* The original C++ code and copyright notice are from the [Boost library]{@link http://www.boost.org/doc/libs/1_61_0/boost/math/special_functions/beta.hpp}. The implementation has been modified for JavaScript.\n*\n* ```text\n* (C) Copyright John Maddock 2006.\n* (C) Copyright Paul A. Bristow 2007.\n*\n* Use, modification and distribution are subject to the\n* Boost Software License, Version 1.0. (See accompanying file\n* LICENSE or copy at http://www.boost.org/LICENSE_1_0.txt)\n* ```\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isnan = require( '@stdlib/math-base-assert-is-nan' );\nvar expm1 = require( '@stdlib/math-base-special-expm1' );\nvar floor = require( '@stdlib/math-base-special-floor' );\nvar log1p = require( '@stdlib/math-base-special-log1p' );\nvar asin = require( '@stdlib/math-base-special-asin' );\nvar beta = require( '@stdlib/math-base-special-beta' );\nvar sqrt = require( '@stdlib/math-base-special-sqrt' );\nvar exp = require( '@stdlib/math-base-special-exp' );\nvar pow = require( '@stdlib/math-base-special-pow' );\nvar max = require( '@stdlib/math-base-special-max' );\nvar min = require( '@stdlib/math-base-special-min' );\nvar MAX_FLOAT64 = require( '@stdlib/constants-float64-max' );\nvar MIN_FLOAT64 = require( '@stdlib/constants-float64-smallest-normal' );\nvar MAX_INT32 = require( '@stdlib/constants-int32-max' );\nvar HALF_PI = require( '@stdlib/constants-float64-half-pi' );\nvar PI = require( '@stdlib/constants-float64-pi' );\nvar betaSmallBLargeASeries = require( './beta_small_b_large_a_series.js' );\nvar risingFactorialRatio = require( './rising_factorial_ratio.js' );\nvar ibetaPowerTerms = require( './ibeta_power_terms.js' );\nvar ibetaFraction2 = require( './ibeta_fraction2.js');\nvar binomialCCDF = require( './binomial_ccdf.js' );\nvar ibetaAStep = require( './ibeta_a_step.js' );\nvar ibetaSeries = require( './ibeta_series.js' );\n\n\n// VARIABLES //\n\nvar ONE_OVER_PI = 1.0 / PI;\n\n\n// MAIN //\n\n/**\n* Evaluates the incomplete beta function and its first derivative and assigns results to a provided output array.\n*\n* ## Notes\n*\n* -   This function divides up the input range and selects the right implementation method for each domain.\n*\n* @param {Probability} x - function input\n* @param {NonNegativeNumber} a - function parameter\n* @param {NonNegativeNumber} b - function parameter\n* @param {boolean} regularized - boolean indicating if the function should evaluate the regularized boolean beta function\n* @param {boolean} upper - boolean indicating if the function should return the upper tail of the incomplete beta function instead\n* @param {(Array|TypedArray|Object)} out - output array\n* @param {integer} stride - output array stride\n* @param {NonNegativeInteger} offset - output array index offset\n* @returns {(Array|TypedArray|Object)} function value and first derivative\n*\n* @example\n* var out = ibetaImp( 0.5, 2.0, 2.0, false, false, [ 0.0, 0.0 ], 1, 0 );\n* // returns [ ~0.083, ~1.5 ]\n*\n* @example\n* var out = ibetaImp( 0.2, 1.0, 2.0, false, true, [ 0.0, 0.0 ], 1, 0 );\n* // returns [ 0.32, 1.6 ]\n*\n* @example\n* var out = ibetaImp( 0.2, 1.0, 2.0, true, true, [ 0.0, 0.0 ], 1, 0 );\n* // returns [ 0.64, 1.6 ]\n*/\nfunction ibetaImp( x, a, b, regularized, upper, out, stride, offset ) {\n\tvar lambda;\n\tvar prefix;\n\tvar fract;\n\tvar bbar;\n\tvar div;\n\tvar tmp;\n\tvar i0;\n\tvar i1;\n\tvar k;\n\tvar n;\n\tvar p;\n\tvar y;\n\n\ty = 1.0 - x;\n\ti0 = offset;\n\ti1 = offset + stride;\n\n\t// Derivative not set...\n\tout[ i1 ] = -1;\n\tif ( isnan( x ) || x < 0.0 || x > 1.0 ) {\n\t\tout[ i0 ] = NaN;\n\t\tout[ i1 ] = NaN;\n\t\treturn out;\n\t}\n\tif ( regularized ) {\n\t\tif ( a < 0.0 || b < 0.0 ) {\n\t\t\tout[ i0 ] = NaN;\n\t\t\tout[ i1 ] = NaN;\n\t\t\treturn out;\n\t\t}\n\t\t// Extend to a few very special cases...\n\t\tif ( a === 0.0 ) {\n\t\t\tif ( b === 0.0 ) {\n\t\t\t\tout[ i0 ] = NaN;\n\t\t\t\tout[ i1 ] = NaN;\n\t\t\t\treturn out;\n\t\t\t}\n\t\t\tif ( b > 0.0 ) {\n\t\t\t\tout[ i0 ] = ( upper ) ? 0.0 : 1.0;\n\t\t\t\treturn out;\n\t\t\t}\n\t\t} else if ( b === 0.0 ) {\n\t\t\tif ( a > 0.0 ) {\n\t\t\t\tout[ i0 ] = ( upper ) ? 1.0 : 0.0;\n\t\t\t\treturn out;\n\t\t\t}\n\t\t}\n\t} else if ( a <= 0.0 || b <= 0.0 ) {\n\t\tout[ i0 ] = NaN;\n\t\tout[ i1 ] = NaN;\n\t\treturn out;\n\t}\n\tif ( x === 0.0 ) {\n\t\tif ( a === 1.0 ) {\n\t\t\tout[ i1 ] = 1.0;\n\t\t} else {\n\t\t\tout[ i1 ] = ( a < 1.0 ) ? MAX_FLOAT64 / 2.0 : MIN_FLOAT64 * 2.0;\n\t\t}\n\t\tif ( upper ) {\n\t\t\tout[ i0 ] = ( regularized ) ? 1.0 : beta( a, b );\n\t\t\treturn out;\n\t\t}\n\t\tout[ i0 ] = 0.0;\n\t\treturn out;\n\t}\n\tif ( x === 1.0 ) {\n\t\tif ( b === 1.0 ) {\n\t\t\tout[ i1 ] = 1.0;\n\t\t} else {\n\t\t\tout[ i1 ] = ( b < 1.0 ) ? MAX_FLOAT64 / 2.0 : MIN_FLOAT64 * 2.0;\n\t\t}\n\t\tif ( upper ) {\n\t\t\tout[ i0 ] = 0.0;\n\t\t} else {\n\t\t\tout[ i0 ] = ( regularized ) ? 1.0 : beta( a, b );\n\t\t}\n\t\treturn out;\n\t}\n\tif ( a === 0.5 && b === 0.5 ) {\n\t\tout[ i1 ] = ONE_OVER_PI * sqrt( y * x );\n\n\t\t// We have an arcsine distribution:\n\t\tp = ( upper ) ? asin( sqrt(y) ) : asin( sqrt(x) );\n\t\tp /= HALF_PI;\n\t\tif ( !regularized ) {\n\t\t\tp *= PI;\n\t\t}\n\t\tout[ i0 ] = p;\n\t\treturn out;\n\t}\n\tif ( a === 1.0 ) {\n\t\ttmp = b;\n\t\tb = a;\n\t\ta = tmp;\n\n\t\ttmp = y;\n\t\ty = x;\n\t\tx = tmp;\n\n\t\tupper = !upper;\n\t}\n\tif ( b === 1.0 ) {\n\t\t// Special case see: http://functions.wolfram.com/GammaBetaErf/BetaRegularized/03/01/01/\n\t\tif ( a === 1.0 ) {\n\t\t\tout[ i0 ] = ( upper ) ? y : x;\n\t\t\tout[ i1 ] = 1.0;\n\t\t\treturn out;\n\t\t}\n\t\tout[ i1 ] = a * pow( x, a - 1.0 );\n\t\tif ( y < 0.5 ) {\n\t\t\tp = ( upper ) ? -expm1( a * log1p(-y) ) : exp( a * log1p(-y) );\n\t\t} else {\n\t\t\tp = ( upper ) ? -( pow( x, a ) - 1.0 ) : pow( x, a );\n\t\t}\n\t\tif ( !regularized ) {\n\t\t\tp /= a;\n\t\t}\n\t\tout[ i0 ] = p;\n\t\treturn out;\n\t}\n\tif ( min( a, b ) <= 1.0 ) {\n\t\tif ( x > 0.5 ) {\n\t\t\ttmp = b;\n\t\t\tb = a;\n\t\t\ta = tmp;\n\n\t\t\ttmp = y;\n\t\t\ty = x;\n\t\t\tx = tmp;\n\n\t\t\tupper = !upper;\n\t\t}\n\t\tif ( max( a, b ) <= 1.0 ) {\n\t\t\t// Both a,b < 1:\n\t\t\tif ( (a >= min( 0.2, b ) ) || ( pow(x, a) <= 0.9 ) ) {\n\t\t\t\tif ( upper ) {\n\t\t\t\t\tfract = -( ( regularized ) ? 1.0 : beta( a, b ) );\n\t\t\t\t\tupper = false;\n\t\t\t\t\tfract = -ibetaSeries( a, b, x, fract, regularized, out, y );\n\t\t\t\t} else {\n\t\t\t\t\tfract = ibetaSeries( a, b, x, 0, regularized, out, y );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttmp = b;\n\t\t\t\tb = a;\n\t\t\t\ta = tmp;\n\n\t\t\t\ttmp = y;\n\t\t\t\ty = x;\n\t\t\t\tx = tmp;\n\n\t\t\t\tupper = !upper;\n\t\t\t\tif ( y >= 0.3 ) {\n\t\t\t\t\tif ( upper ) {\n\t\t\t\t\t\tfract = -( ( regularized ) ? 1.0 : beta( a, b ) );\n\t\t\t\t\t\tupper = false;\n\t\t\t\t\t\tfract = -ibetaSeries( a, b, x, fract, regularized, out, y ); // eslint-disable-line max-len\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfract = ibetaSeries( a, b, x, 0, regularized, out, y );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Sidestep on a, and then use the series representation:\n\t\t\t\t\tif ( regularized ) {\n\t\t\t\t\t\tprefix = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprefix = risingFactorialRatio( a + b, a, 20 );\n\t\t\t\t\t}\n\t\t\t\t\tfract = ibetaAStep( a, b, x, y, 20, regularized, out );\n\t\t\t\t\tif ( upper ) {\n\t\t\t\t\t\tfract -= ( ( regularized ) ? 1 : beta( a, b ) );\n\t\t\t\t\t\tupper = false;\n\t\t\t\t\t\tfract = -betaSmallBLargeASeries( a + 20.0, b, x, y, fract, prefix, regularized ); // eslint-disable-line max-len\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfract = betaSmallBLargeASeries( a + 20.0, b, x, y, fract, prefix, regularized ); // eslint-disable-line max-len\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if ( b <= 1.0 || ( x < 0.1 && ( pow( b * x, a ) <= 0.7 ) ) ) {\n\t\t\tif ( upper ) {\n\t\t\t\tfract = -( ( regularized ) ? 1 : beta( a, b ) );\n\t\t\t\tupper = false;\n\t\t\t\tfract = -ibetaSeries( a, b, x, fract, regularized, out, y );\n\t\t\t} else {\n\t\t\t\tfract = ibetaSeries( a, b, x, 0.0, regularized, out, y );\n\t\t\t}\n\t\t} else {\n\t\t\ttmp = b;\n\t\t\tb = a;\n\t\t\ta = tmp;\n\n\t\t\ttmp = y;\n\t\t\ty = x;\n\t\t\tx = tmp;\n\t\t\tupper = !upper;\n\n\t\t\tif ( y >= 0.3 ) {\n\t\t\t\tif (upper) {\n\t\t\t\t\tfract = -(( regularized ) ? 1.0 : beta( a, b ));\n\t\t\t\t\tupper = false;\n\t\t\t\t\tfract = -ibetaSeries( a, b, x, fract, regularized, out, y );\n\t\t\t\t} else {\n\t\t\t\t\tfract = ibetaSeries( a, b, x, 0.0, regularized, out, y );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( a >= 15.0 ) {\n\t\t\t\tif ( upper ) {\n\t\t\t\t\tfract = -(( regularized ) ? 1.0 : beta( a, b ));\n\t\t\t\t\tupper = false;\n\t\t\t\t\tfract = -betaSmallBLargeASeries( a, b, x, y, fract, 1.0, regularized ); // eslint-disable-line max-len\n\t\t\t\t} else {\n\t\t\t\t\tfract = betaSmallBLargeASeries( a, b, x, y, 0.0, 1.0, regularized ); // eslint-disable-line max-len\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( regularized ) {\n\t\t\t\t\tprefix = 1;\n\t\t\t\t} else {\n\t\t\t\t\t// Sidestep to improve errors:\n\t\t\t\t\tprefix = risingFactorialRatio( a + b, a, 20.0 );\n\t\t\t\t}\n\t\t\t\tfract = ibetaAStep( a, b, x, y, 20.0, regularized, out );\n\t\t\t\tif ( upper ) {\n\t\t\t\t\tfract -= ( ( regularized ) ? 1.0 : beta( a, b ) );\n\t\t\t\t\tupper = false;\n\t\t\t\t\tfract = -betaSmallBLargeASeries( a + 20.0, b, x, y, fract, prefix, regularized ); // eslint-disable-line max-len\n\t\t\t\t} else {\n\t\t\t\t\tfract = betaSmallBLargeASeries( a + 20.0, b, x, y, fract, prefix, regularized ); // eslint-disable-line max-len\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// Both a,b >= 1:\n\t\tif ( a < b ) {\n\t\t\tlambda = a - ( (a + b) * x );\n\t\t} else {\n\t\t\tlambda = ( (a + b) * y ) - b;\n\t\t}\n\t\tif ( lambda < 0.0 ) {\n\t\t\ttmp = b;\n\t\t\tb = a;\n\t\t\ta = tmp;\n\n\t\t\ttmp = y;\n\t\t\ty = x;\n\t\t\tx = tmp;\n\t\t\tupper = !upper;\n\t\t}\n\t\tif ( b < 40.0 ) {\n\t\t\tif (\n\t\t\t\tfloor(a) === a &&\n\t\t\t\tfloor(b) === b &&\n\t\t\t\ta < MAX_INT32 - 100\n\t\t\t) {\n\t\t\t\t// Relate to the binomial distribution and use a finite sum:\n\t\t\t\tk = a - 1.0;\n\t\t\t\tn = b + k;\n\t\t\t\tfract = binomialCCDF( n, k, x, y );\n\t\t\t\tif ( !regularized ) {\n\t\t\t\t\tfract *= beta( a, b );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( b * x <= 0.7 ) {\n\t\t\t\tif ( upper ) {\n\t\t\t\t\tfract = -( ( regularized ) ? 1.0 : beta( a, b ) );\n\t\t\t\t\tupper = false;\n\t\t\t\t\tfract = -ibetaSeries( a, b, x, fract, regularized, out, y );\n\t\t\t\t} else {\n\t\t\t\t\tfract = ibetaSeries( a, b, x, 0.0, regularized, out, y );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( a > 15.0 ) {\n\t\t\t\t// Sidestep so we can use the series representation:\n\t\t\t\tn = floor( b );\n\t\t\t\tif ( n === b ) {\n\t\t\t\t\tn -= 1;\n\t\t\t\t}\n\t\t\t\tbbar = b - n;\n\t\t\t\tif ( regularized ) {\n\t\t\t\t\tprefix = 1;\n\t\t\t\t} else {\n\t\t\t\t\tprefix = risingFactorialRatio( a + bbar, bbar, n );\n\t\t\t\t}\n\t\t\t\tfract = ibetaAStep( bbar, a, y, x, n, regularized );\n\t\t\t\tfract = betaSmallBLargeASeries( a, bbar, x, y, fract, 1.0, regularized ); // eslint-disable-line max-len\n\t\t\t\tfract /= prefix;\n\t\t\t}\n\t\t\telse if ( regularized ) {\n\t\t\t\tn = floor( b );\n\t\t\t\tbbar = b - n;\n\t\t\t\tif ( bbar <= 0 ) {\n\t\t\t\t\tn -= 1;\n\t\t\t\t\tbbar += 1;\n\t\t\t\t}\n\t\t\t\tfract = ibetaAStep( bbar, a, y, x, n, regularized );\n\t\t\t\tfract += ibetaAStep( a, bbar, x, y, 20.0, regularized );\n\t\t\t\tif ( upper ) {\n\t\t\t\t\tfract -= 1;\n\t\t\t\t}\n\t\t\t\tfract = betaSmallBLargeASeries( a + 20.0, bbar, x, y, fract, 1, regularized ); // eslint-disable-line max-len\n\t\t\t\tif ( upper ) {\n\t\t\t\t\tfract = -fract;\n\t\t\t\t\tupper = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfract = ibetaFraction2( a, b, x, y, regularized, out );\n\t\t\t}\n\t\t} else {\n\t\t\tfract = ibetaFraction2( a, b, x, y, regularized, out );\n\t\t}\n\t}\n\tif ( out[ i1 ] < 0.0 ) {\n\t\tout[ i1 ] = ibetaPowerTerms( a, b, x, y, true );\n\t}\n\tdiv = y * x;\n\tif ( out[ i1 ] !== 0.0 ) {\n\t\tif ( ( MAX_FLOAT64 * div < out[ i1 ] ) ) {\n\t\t\t// Overflow, return an arbitrarily large value:\n\t\t\tout[ i1 ] = MAX_FLOAT64 / 2.0;\n\t\t} else {\n\t\t\tout[ i1 ] /= div;\n\t\t}\n\t}\n\tout[ i0 ] = ( upper ) ? ( ( regularized ) ? 1.0 : beta( a, b ) ) - fract : fract; // eslint-disable-line max-len\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = ibetaImp;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar compute = require( './assign.js' );\n\n\n// MAIN //\n\n/**\n* Evaluates the incomplete beta function and its first derivative.\n*\n* @param {Probability} x - function input\n* @param {NonNegativeNumber} a - function parameter\n* @param {NonNegativeNumber} b - function parameter\n* @param {boolean} regularized - boolean indicating if the function should evaluate the regularized boolean beta function\n* @param {boolean} upper - boolean indicating if the function should return the upper tail of the incomplete beta function instead\n* @returns {Array} function value and first derivative\n*\n* @example\n* var out = kernelBetainc( 0.5, 2.0, 2.0, false, false );\n* // returns [ ~0.083, ~1.5 ]\n*\n* @example\n* var out = kernelBetainc( 0.2, 1.0, 2.0, true, false );\n* // returns [ 0.36, 1.6 ]\n*/\nfunction kernelBetainc( x, a, b, regularized, upper ) {\n\treturn compute( x, a, b, regularized, upper, [ 0.0, 0.0 ], 1, 0 );\n}\n\n\n// EXPORTS //\n\nmodule.exports = kernelBetainc;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Evaluate the incomplete beta function and its first derivative.\n*\n* @module @stdlib/math-base-special-kernel-betainc\n*\n* @example\n* var kernelBetainc = require( '@stdlib/math-base-special-kernel-betainc' );\n*\n* var out = kernelBetainc( 0.5, 2.0, 2.0, false, false );\n* // returns [ ~0.083, ~1.5 ]\n*\n* out = kernelBetainc( 0.2, 1.0, 2.0, true, false );\n* // returns [ 0.36, 1.6 ]\n*\n* @example\n* var kernelBetainc = require( '@stdlib/math-base-special-kernel-betainc' );\n*\n* var arr = [ 0.0, 0.0 ];\n* var out = kernelBetainc.assign( 0.2, 1.0, 2.0, true, true, arr, 1, 0 );\n* // returns [ 0.64, 1.6 ]\n*\n* var bool = ( arr === out );\n* // returns true\n*/\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar main = require( './main.js' );\nvar assign = require( './assign.js' );\n\n\n// MAIN //\n\nsetReadOnly( main, 'assign', assign );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n"],"names":["exp","require$$0","pow","require$$1","ln","require$$2","MAX_LN","require$$3","MIN_LN","require$$4","lanczosSumExpGScaled","gammaln","gamma","log1p","sqrt","abs","require$$5","require$$6","require$$7","max","require$$8","min","require$$9","require$$10","require$$11","require$$12","G","require$$13","E","require$$14","gammaDeltaRatio","factorial","gammainc","MIN_VALUE","EPSILON","fullIGammaPrefix","a","z","alz","regularizedGammaPrefix","prefix","amza","agh","amz","sq","d","p","Array","maxabs","minabs","expm1","ibeta_power_terms","b","x","y","normalized","result","smallA","ratio","bgh","cgh","l1","l2","l3","p1","b1","b2","c","l","NaN","continuedFraction","ibetaPowerTerms","OPTS","keep","maxIter","binomcoef","floor","sumSeries","opts","maxTerms","isnan","asin","beta","MAX_FLOAT64","MIN_FLOAT64","MAX_INT32","HALF_PI","PI","require$$15","betaSmallBLargeASeries","s0","mult","tmp1","tnp1","sum","b2n","bm1","lx2","lxp","mbn","lx","t4","h","j","m","n","r","t","u","length","risingFactorialRatio","k","i","require$$18","ibetaFraction2","out","f","denom","aN","bN","ibetaFraction2t","binomialCCDF","startTerm","start","term","ibetaAStep","ibetaSeries","s","poch","ibetaSeriesT","initialValue","ONE_OVER_PI","assign","regularized","upper","stride","offset","fract","bbar","div","tmp","i0","i1","compute","main","lib"],"mappings":"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"}